<div class="form-group">

    <ng-form name="innerForm">
        <div ng-class="width">

            <!--shared label-->
            <label ng-show="isString || isTextarea || isFile" for="{{ id }}">
                {{ lblText }}
            </label>

            <!--email, password, text, url-->
            <div ng-show="isString">
            
                <input class="form-control" id="{{ id }}" name="innerString" ng-class="{submitted: outerForm.submitted}" ng-model="theModel" ng-required="isRequired" ng-show="!hasAddOn" placeholder="{{ placeholder }}" type="{{ type }}">

                <!--with input group-->
                <div class="input-group" ng-show="{{ hasAddOn }}">
                    <span ng-if="hasAddOnLeft" class="input-group-addon">{{ addOnLeft }}</span>
                    <input class="form-control" id="{{ id }}" name="innerStringAddOn" ng-class="{submitted: outerForm.submitted}" ng-model="theModel" ng-required="isRequired" placeholder="{{ placeholder }}" type="{{ type }}">
                    <span ng-if="hasAddOnRight" class="input-group-addon">{{ addOnRight }}</span>
                </div>

            </div>

            <!--file-->
            <input ng-show="isFile" type="file" id="{{ id }}">

            <!--checkbox, radio-->
            <div ng-show="isRadioCheck" class="{{ type }}">
                <label>
                    <input type="{{ type }}" value="{{ value }}" name="{{ name }}" ng-model="theModel">
                    {{ lblText }}
                </label>
            </div>

            <!-- textarea-->
            <textarea class="form-control" id="{{ id }}" name="innerTextarea" ng-class="{submitted: outerForm.submitted}" ng-model="theModel" ng-required="isRequired && isTextarea" ng-show="isTextarea" placeholder="{{ placeholder }}" rows="{{ rows }}"></textarea>
        </div>
    </ng-form>

    <!--Validation and Help-->
    <span class="help-block">{{ helpBlock }}</span>
    <div ng-show="(innerForm.$dirty || outerForm.submitted) && innerForm.$invalid">        
        <div ng-show="isTextarea">
            <span ng-show="innerForm.innerTextarea.$error.required">This input is required.</span>
            <span ng-show="innerForm.innerTextarea.$error.email">That is not an email.</span>
        </div>
        <div ng-show="isString">
            <div ng-show="!hasAddOn">
                <span ng-show="innerForm.innerString.$error.required">This input is required.</span>
                <span ng-show="innerForm.innerString.$error.email">That is not an email.</span>
            </div>
            <div ng-show="hasAddOn">
                <span ng-show="innerForm.innerStringAddOn.$error.required">This input is required.</span>
                <span ng-show="innerForm.innerStringAddOn.$error.email">That is not an email.</span>
            </div>
        </div>

    </div>
</div>